<div *ngIf="document; else noDocumentSelected">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ document.name }}</mat-card-title>
      <mat-card-subtitle>Category: {{ document.categoryId }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <h3>Extracted Key-Value Pairs</h3>
      <div *ngIf="document.kvp_extraction && document.kvp_extraction.length > 0; else noData">
        <table>
          <thead>
            <tr>
              <th>Key</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let pair of document.kvp_extraction">
              <td>{{ pair.key }}</td>
              <td>{{ pair.value }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <ng-template #noData>
        <p>No key-value pairs have been extracted for this document.</p>
      </ng-template>
    </mat-card-content>
  </mat-card>
</div>

<ng-template #noDocumentSelected>
  <div class="no-document-selected">
    <p>Select a document to view its details.</p>
  </div>
</ng-template>
